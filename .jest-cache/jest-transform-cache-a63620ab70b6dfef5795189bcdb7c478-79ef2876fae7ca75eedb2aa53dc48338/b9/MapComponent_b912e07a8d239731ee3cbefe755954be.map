{"version":3,"names":["MapComponent","cov_ikmztga2i","s","className","b","width","height","f","theme","_material","useTheme","mapRef","_react","useRef","viewState","setViewState","mapStyle","is3DEnabled","setIs3DEnabled","isVREnabled","setIsVREnabled","setMapInstance","showControls","isMapLoading","setIsMapLoading","setMapError","markers","_mapStore","useMapStore","preferences","_appStore","useAppStore","onMapLoad","useCallback","event","map","target","addSource","type","url","tileSize","maxzoom","setTerrain","source","exaggeration","onMapError","errorEvent","console","error","originalEvent","message","errorMessage","Error","String","handleToggle3D","newIs3D","current","getMap","easeTo","pitch","bearing","duration","log","handleToggleVR","handleFullscreen","mapContainer","getContainer","requestFullscreen","handleResetView","flyTo","center","longitude","latitude","zoom","essential","_jsxruntime","jsxs","Box","sx","position","borderRadius","shape","_maplibre","Map","ref","onMove","evt","onLoad","onError","style","maxZoom","minZoom","attributionControl","hash","navigation","jsx","NavigationControl","showCompass","showZoom","geolocate","enableGeolocation","GeolocateControl","trackUserLocation","scale","ScaleControl","maxWidth","unit","marker","id","bottom","right","display","flexDirection","gap","Fab","size","color","title","onClick","_ThreeDRotation","default","enableVR","_ViewInAr","_Fullscreen","_MyLocation","top","left","alignItems","justifyContent","backgroundColor","zIndex"],"sources":["/Users/seaofchaos/Projects/next-map/src/components/MapComponent.tsx"],"sourcesContent":["'use client';\n\nimport React, { useRef, useCallback } from 'react';\nimport {\n  Map,\n  NavigationControl,\n  GeolocateControl,\n  ScaleControl,\n  type MapRef,\n  type MapEvent,\n} from 'react-map-gl/maplibre';\n\ninterface MapErrorEvent extends MapEvent {\n  error?: Error | string;\n  message?: string;\n}\nimport { Box, Fab, useTheme } from '@mui/material';\nimport {\n  ThreeDRotation,\n  Fullscreen,\n  MyLocation,\n  ViewInAr,\n} from '@mui/icons-material';\nimport { useMapStore } from '@/stores/mapStore';\nimport { useAppStore } from '@/stores/appStore';\nimport 'maplibre-gl/dist/maplibre-gl.css';\n\ninterface MapComponentProps {\n  readonly className?: string;\n  readonly width?: string | number;\n  readonly height?: string | number;\n}\n\nexport default function MapComponent({\n  className = '',\n  width = '100%',\n  height = '100vh',\n}: MapComponentProps) {\n  const theme = useTheme();\n  const mapRef = useRef<MapRef>(null);\n\n  const {\n    viewState,\n    setViewState,\n    mapStyle,\n    is3DEnabled,\n    setIs3DEnabled,\n    isVREnabled,\n    setIsVREnabled,\n    setMapInstance,\n    showControls,\n    isMapLoading,\n    setIsMapLoading,\n    setMapError,\n    markers,\n  } = useMapStore();\n\n  const { preferences } = useAppStore();\n\n  const onMapLoad = useCallback(\n    (event: MapEvent) => {\n      const map = event.target;\n      setMapInstance(map);\n      setIsMapLoading(false);\n\n      // Add 3D terrain if enabled\n      if (is3DEnabled) {\n        map.addSource('mapbox-dem', {\n          type: 'raster-dem',\n          url: 'mapbox://mapbox.mapbox-terrain-dem-v1',\n          tileSize: 512,\n          maxzoom: 14,\n        });\n        map.setTerrain({ source: 'mapbox-dem', exaggeration: 1.5 });\n      }\n    },\n    [setMapInstance, setIsMapLoading, is3DEnabled]\n  );\n\n  const onMapError = useCallback(\n    (event: MapEvent) => {\n      const errorEvent = event as MapErrorEvent;\n      console.error('Map error details:', {\n        type: event.type,\n        target: event.target,\n        originalEvent: event.originalEvent,\n        error: errorEvent.error,\n        message: errorEvent.message,\n      });\n\n      const errorMessage =\n        errorEvent.message ||\n        (errorEvent.error instanceof Error\n          ? errorEvent.error.message\n          : String(errorEvent.error)) ||\n        'Map failed to load';\n      setMapError(errorMessage);\n      setIsMapLoading(false);\n    },\n    [setMapError, setIsMapLoading]\n  );\n\n  const handleToggle3D = () => {\n    const newIs3D = !is3DEnabled;\n    setIs3DEnabled(newIs3D);\n\n    if (mapRef.current) {\n      const map = mapRef.current.getMap();\n      if (newIs3D) {\n        // Enable 3D perspective view\n        // Note: True 3D terrain requires vector tiles and DEM data\n        // For now, we provide 3D perspective of the 2D map\n        map.easeTo({\n          pitch: 60,\n          bearing: -45,\n          duration: 1000,\n        });\n\n        console.log('3D view enabled - perspective mode');\n      } else {\n        // Disable 3D - reset to flat view\n        map.easeTo({\n          pitch: 0,\n          bearing: 0,\n          duration: 1000,\n        });\n\n        console.log('3D view disabled - flat mode');\n      }\n    }\n  };\n\n  const handleToggleVR = () => {\n    setIsVREnabled(!isVREnabled);\n    // VR implementation would go here\n    // This would typically involve WebXR APIs\n    console.log('VR mode toggled:', !isVREnabled);\n  };\n\n  const handleFullscreen = () => {\n    if (mapRef.current) {\n      const mapContainer = mapRef.current.getContainer();\n      if (mapContainer?.requestFullscreen) {\n        mapContainer.requestFullscreen();\n      }\n    }\n  };\n\n  const handleResetView = () => {\n    if (mapRef.current) {\n      const map = mapRef.current.getMap();\n      map.flyTo({\n        center: [viewState.longitude, viewState.latitude],\n        zoom: 10,\n        bearing: 0,\n        pitch: 0,\n        essential: true,\n      });\n    }\n  };\n\n  return (\n    <Box\n      className={className}\n      sx={{\n        position: 'relative',\n        width,\n        height,\n        '& .maplibregl-canvas': {\n          borderRadius: theme.shape.borderRadius,\n        },\n      }}\n    >\n      <Map\n        ref={mapRef}\n        {...viewState}\n        onMove={evt => setViewState(evt.viewState)}\n        onLoad={onMapLoad}\n        onError={onMapError}\n        mapStyle={mapStyle}\n        style={{ width: '100%', height: '100%' }}\n        maxZoom={20}\n        minZoom={0}\n        attributionControl={false}\n        hash={true}\n      >\n        {/* Navigation Controls */}\n        {showControls.navigation && (\n          <NavigationControl position=\"top-right\" showCompass showZoom />\n        )}\n\n        {/* Geolocate Control */}\n        {showControls.geolocate && preferences.enableGeolocation && (\n          <GeolocateControl position=\"top-right\" trackUserLocation />\n        )}\n\n        {/* Scale Control */}\n        {showControls.scale && (\n          <ScaleControl position=\"bottom-left\" maxWidth={100} unit=\"metric\" />\n        )}\n\n        {/* Custom markers would be rendered here */}\n        {markers.map(marker => (\n          <div key={marker.id}>{/* Marker implementation */}</div>\n        ))}\n      </Map>\n\n      {/* Floating Action Buttons */}\n      <Box\n        sx={{\n          position: 'absolute',\n          bottom: 16,\n          right: 16,\n          display: 'flex',\n          flexDirection: 'column',\n          gap: 1,\n        }}\n      >\n        <Fab\n          size=\"medium\"\n          color={is3DEnabled ? 'primary' : 'default'}\n          title={\n            is3DEnabled ? 'Disable 3D perspective' : 'Enable 3D perspective'\n          }\n          onClick={handleToggle3D}\n          aria-label=\"toggle 3D\"\n        >\n          <ThreeDRotation />\n        </Fab>\n\n        {preferences.enableVR && (\n          <Fab\n            size=\"medium\"\n            color={isVREnabled ? 'secondary' : 'default'}\n            onClick={handleToggleVR}\n            aria-label=\"toggle VR\"\n          >\n            <ViewInAr />\n          </Fab>\n        )}\n\n        <Fab size=\"medium\" onClick={handleFullscreen} aria-label=\"fullscreen\">\n          <Fullscreen />\n        </Fab>\n\n        <Fab size=\"medium\" onClick={handleResetView} aria-label=\"reset view\">\n          <MyLocation />\n        </Fab>\n      </Box>\n\n      {/* Loading overlay */}\n      {isMapLoading && (\n        <Box\n          sx={{\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            backgroundColor: 'rgba(0, 0, 0, 0.5)',\n            color: 'white',\n            zIndex: 1000,\n          }}\n        >\n          Loading Map...\n        </Box>\n      )}\n    </Box>\n  );\n}\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}